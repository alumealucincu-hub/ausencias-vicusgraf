<!doctype html>
<html lang="gl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Consulta de Ausencias — Vicusgraf</title>
<style>
  :root{
    --bg:#0f1724; --card:#0b1220; --accent:#0ea5a4; --muted:#94a3b8; --text:#e6eef6;
    --radius:12px; --gap:10px; --font-sans:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  }
  html,body{height:100%;margin:0;font-family:var(--font-sans);background:linear-gradient(180deg,#071025 0%, #071827 100%);color:var(--text);-webkit-font-smoothing:antialiased}
  .wrap{max-width:920px;margin:0 auto;padding:14px;}
  header{display:flex;align-items:center;gap:12px;margin-bottom:12px}
  header h1{font-size:1.05rem;margin:0}
  .grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-bottom:12px}
  @media (max-width:520px){ .grid{grid-template-columns:repeat(2,1fr)} header h1{font-size:1rem} }
  .btn{
    background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.04);padding:10px;border-radius:10px;text-align:center;font-weight:600;color:var(--text);
    font-size:0.92rem;cursor:pointer;
  }
  .btn.active{outline:3px solid rgba(14,165,164,0.12);box-shadow:0 6px 18px rgba(2,6,23,0.6)}
  .content{background:var(--card);border-radius:var(--radius);padding:12px;border:1px solid rgba(255,255,255,0.03)}
  .reason-list{display:flex;flex-direction:column;gap:8px;margin-bottom:10px}
  .reason{
    background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent);padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);
    display:flex;justify-content:space-between;align-items:center;gap:8px;cursor:pointer;
  }
  .reason .title{font-weight:700;font-size:0.98rem}
  .reason .tag{font-size:0.78rem;color:var(--muted);padding:6px 8px;border-radius:8px;background:rgba(255,255,255,0.02)}
  .detail{margin-top:10px;padding:10px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.01),transparent)}
  .field{margin-bottom:8px}
  .label{font-weight:700;font-size:0.86rem;color:var(--accent);margin-bottom:4px}
  .value{font-size:0.95rem;color:var(--text);line-height:1.25}
  .norms{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
  .norm{background:rgba(255,255,255,0.02);padding:6px 8px;border-radius:8px;font-size:0.78rem;color:var(--muted)}
  .small{font-size:0.82rem;color:var(--muted)}
  footer{margin-top:12px;font-size:0.78rem;color:var(--muted);text-align:center}
  /* collapse */
  .hidden{display:none}
  /* visual emphasis for time */
  .time{font-weight:800;color:#fff;background:linear-gradient(90deg,var(--accent),#60a5fa);padding:6px 10px;border-radius:999px;font-size:0.95rem}
</style>
</head>
<body>
<div class="wrap" role="main">
  <header>
    <svg width="36" height="36" viewBox="0 0 24 24" fill="none" aria-hidden><rect width="24" height="24" rx="6" fill="#072033"/><path d="M6 12h12M12 6v12" stroke="#0ea5a4" stroke-width="1.5" stroke-linecap="round"/></svg>
    <h1>Consulta de ausencias xustificadas — Vicusgraf</h1>
  </header>

  <section aria-labelledby="par-title">
    <h3 id="par-title" class="small">Escolla o grao de parentesco</h3>
    <div class="grid" id="parent-buttons" role="tablist" aria-label="Grau de parentesco">
      <!-- 10 categorías -->
      <button class="btn" data-parent="PROPIA">PROPIA</button>
      <button class="btn" data-parent="PARELLA">PARELLA</button>
      <button class="btn" data-parent="FILLO">FILLO/A</button>
      <button class="btn" data-parent="NAI">NAI/PAI</button>
      <button class="btn" data-parent="SOGROS">SOGROS</button>
      <button class="btn" data-parent="IRMANS">IRMÁNS</button>
      <button class="btn" data-parent="NETOS">NETOS</button>
      <button class="btn" data-parent="AVOS">AVÓS</button>
      <button class="btn" data-parent="XENRO">XENRO/NORA</button>
      <button class="btn" data-parent="CONVIVENTE">CONVIVENTE</button>
    </div>
  </section>

  <section class="content" id="content-area" aria-live="polite">
    <div id="intro" class="small">Selecciona un parentesco para ver os motivos aplicables. Dentro de cada categoría, o motivo <strong>Falecemento</strong> aparece ao final (orde psicolóxica).</div>

    <div id="reasons" class="reason-list" aria-label="Motivos de ausencia">
      <!-- motivos cargaranse por JS -->
    </div>

    <div id="detail" class="detail hidden" aria-hidden="true">
      <div class="field">
        <div class="label">Motivo da ausencia</div>
        <div id="d-motivo" class="value"></div>
      </div>
      <div class="field">
        <div class="label">Parentesco</div>
        <div id="d-parentesco" class="value"></div>
      </div>
      <div class="field">
        <div class="label">Tempo de ausencia</div>
        <div id="d-tiempo" class="value time"></div>
      </div>
      <div class="field">
        <div class="label">Retribución</div>
        <div id="d-caracter" class="value"></div>
      </div>
      <div class="field">
        <div class="label">Xustificación necesaria</div>
        <div id="d-xust" class="value small"></div>
      </div>
      <div class="field">
        <div class="label">Normativa</div>
        <div id="d-norms" class="norms"></div>
      </div>
    </div>
  </section>

  <footer>
    **Abreviaturas:** E. = Estatuto dos Traballadores; L.F. = Lei de Familias; C.A.G. = Convenio Artes Gráficas; P.I.V. = Plan Igualdade Vicusgraf (A.P.6.5 / A.P.6.6 / A.P.6.7).
  </footer>
</div>

<script>
/* Datos: motivos xerais por categoría.
   Cada motivo: id, title, parentesco (texto curto), tiempo (texto), caracter (Retribuida/Non retribuida), xust (que se pide), normativa (array)
   Incluímos as accións positivas do PI Vicusgraf onde aplican.
*/
const DATA = {
  "PROPIA":[
    {id:'baja-enfermidade', title:'Enfermidade propia que impide traballar', parentesco:'PROPIA', tiempo:'Segundo informe médico', caracter:'Retribuída/según normativa', xust:'Parte médico ou certificado', normativa:['E. art.37','L.F. (conciliación)']},
    {id:'cita-medica', title:'Cita médica (consulta, proba diagnóstica)', parentesco:'PROPIA', tiempo:'Horas necesarias; posibilidade de bolsa anual (P.I.V.)', caracter:'Retribuída/según convenio', xust:'Cita ou xustificante', normativa:['E. art.37','C.A.G.']},
    {id:'falecemento', title:'Falecemento (PROPIA) — Falecemento', parentesco:'PROPIA', tiempo:'Ver apartado Falecemento', caracter:'Retribuída', xust:'Certificado de defunción', normativa:['E. art.37','C.A.G.','P.I.V. A.P.6.6']}
  ],
  "PARELLA":[
    {id:'nacemento', title:'Nacemento/permiso por paternidade/maternidade', parentesco:'PARELLA', tiempo:'Segundo normativa específica', caracter:'Retribuída', xust:'Comunicación e documentación correspondente', normativa:['E.','L.F.']},
    {id:'cita-parella', title:'Acompañamento en cita médica', parentesco:'PARELLA', tiempo:'Horas necesarias', caracter:'Retribuída/según convenio', xust:'Cita ou xustificante', normativa:['E.','C.A.G.']},
    {id:'falecemento', title:'Falecemento — Falecemento', parentesco:'PARELLA', tiempo:'Conforme a convenio; P.I.V. A.P.6.6 permite excedencia especial ata 3 meses', caracter:'Retribuída', xust:'Certificado de defunción', normativa:['E. art.37','C.A.G.','P.I.V. A.P.6.6']}
  ],
  "FILLO":[
    {id:'enfermidade-fillo', title:'Enfermidade ou hospitalización de fillo/a', parentesco:'FILLO/A', tiempo:'Horas/días necesarios', caracter:'Retribuída/según normativa', xust:'Informe médico', normativa:['E. art.37','L.F.']},
    {id:'cita-fillo', title:'Acompañamento a consulta médica (menores 14 anos)', parentesco:'FILLO/A', tiempo:'Bolsa de 8 horas/ano retribuídas (P.I.V. A.P.6.7) ou horas necesarias', caracter:'Retribuída (P.I.V. A.P.6.7)', xust:'Cita médica', normativa:['E. art.37','C.A.G.','P.I.V. A.P.6.7']},
    {id:'falecemento', title:'Falecemento — Falecemento', parentesco:'FILLO/A', tiempo:'Conforme a convenio; P.I.V. A.P.6.6 excedencia especial ata 3 meses', caracter:'Retribuída', xust:'Certificado de defunción', normativa:['E. art.37','C.A.G.','P.I.V. A.P.6.6']}
  ],
  "NAI":[
    {id:'coidado-pais', title:'Coidado por enfermidade de nai/pai', parentesco:'NAI/PAI', tiempo:'Horas/días necesarios', caracter:'Retribuída/según normativa', xust:'Informe médico', normativa:['E. art.37','L.F.']},
    {id:'falecemento', title:'Falecemento — Falecemento', parentesco:'NAI/PAI', tiempo:'2 días ampliados a 3 días (P.I.V. A.P.6.5) desde o 1º día hábil; +1 día (ata 5) se desprazamento >300km', caracter:'Retribuída', xust:'Certificado de defunción e xustificante de desprazamento', normativa:['E. art.37','C.A.G.','P.I.V. A.P.6.5']}
  ],
  "SOGROS":[
    {id:'coidado-sogros', title:'Coidado por enfermidade de sogros', parentesco:'SOGROS', tiempo:'Horas/días necesarios', caracter:'Retribuída/según normativa', xust:'Informe médico', normativa:['E. art.37','C.A.G.']},
    {id:'falecemento', title:'Falecemento — Falecemento', parentesco:'SOGROS', tiempo:'2 días ampliados a 3 días (P.I.V. A.P.6.5); +1 día se desprazamento >300km', caracter:'Retribuída', xust:'Certificado de defunción', normativa:['E. art.37','C.A.G.','P.I.V. A.P.6.5']}
  ],
  "IRMANS":[
    {id:'coidado-irmans', title:'Coidado por enfermidade de irmáns', parentesco:'IRMÁNS', tiempo:'Horas/días necesarios', caracter:'Retribuída/según normativa', xust:'Informe médico', normativa:['E. art.37','C.A.G.']},
    {id:'falecemento', title:'Falecemento — Falecemento', parentesco:'IRMÁNS', tiempo:'2 días ampliados a 3 días (P.I.V. A.P.6.5); +1 día se desprazamento >300km', caracter:'Retribuída', xust:'Certificado de defunción', normativa:['E. art.37','C.A.G.','P.I.V. A.P.6.5']}
  ],
  "NETOS":[
    {id:'coidado-netos', title:'Coidado por enfermidade de netos', parentesco:'NETOS', tiempo:'Horas/días necesarios', caracter:'Retribuída/según normativa', xust:'Informe médico', normativa:['E. art.37','C.A.G.']},
    {id:'falecemento', title:'Falecemento — Falecemento', parentesco:'NETOS', tiempo:'2 días ampliados a 3 días (P.I.V. A.P.6.5)', caracter:'Retribuída', xust:'Certificado de defunción', normativa:['E. art.37','C.A.G.','P.I.V. A.P.6.5']}
  ],
  "AVOS":[
    {id:'coidado-avos', title:'Coidado por enfermidade de avós', parentesco:'AVÓS', tiempo:'Horas/días necesarios', caracter:'Retribuída/según normativa', xust:'Informe médico', normativa:['E. art.37','C.A.G.']},
    {id:'falecemento', title:'Falecemento — Falecemento', parentesco:'AVÓS', tiempo:'2 días ampliados a 3 días (P.I.V. A.P.6.5)', caracter:'Retribuída', xust:'Certificado de defunción', normativa:['E. art.37','C.A.G.','P.I.V. A.P.6.5']}
  ],
  "XENRO":[
    {id:'coidado-xenro', title:'Coidado por enfermidade de xenro/nora', parentesco:'XENRO/NORA', tiempo:'Horas/días necesarios', caracter:'Retribuída/según normativa', xust:'Informe médico', normativa:['E. art.37','C.A.G.']},
    {id:'falecemento', title:'Falecemento — Falecemento', parentesco:'XENRO/NORA', tiempo:'2 días ampliados a 3 días (P.I.V. A.P.6.5)', caracter:'Retribuída', xust:'Certificado de defunción', normativa:['E. art.37','C.A.G.','P.I.V. A.P.6.5']}
  ],
  "CONVIVENTE":[
    {id:'coidado-convivente', title:'Coidado por enfermidade de convivente', parentesco:'CONVIVENTE', tiempo:'Horas/días necesarios', caracter:'Retribuída/según normativa', xust:'Informe médico ou xustificante', normativa:['E. art.37','C.A.G.']},
    {id:'falecemento', title:'Falecemento — Falecemento', parentesco:'CONVIVENTE', tiempo:'2 días ampliados a 3 días (P.I.V. A.P.6.5)', caracter:'Retribuída', xust:'Certificado de defunción', normativa:['E. art.37','C.A.G.','P.I.V. A.P.6.5']}
  ]
};

/* Render buttons e motivos */
const parentButtons = document.getElementById('parent-buttons');
const reasonsEl = document.getElementById('reasons');
const detail = document.getElementById('detail');

function clearActive(){
  document.querySelectorAll('.btn').forEach(b=>b.classList.remove('active'));
}
function showReasons(parentKey){
  reasonsEl.innerHTML = '';
  const list = DATA[parentKey] || [];
  // ensure Falecemento is last (already placed as last in data)
  list.forEach(item=>{
    const r = document.createElement('div');
    r.className='reason';
    r.tabIndex=0;
    r.setAttribute('role','button');
    r.dataset.id = item.id;
    r.innerHTML = `<div><div class="title">${item.title}</div><div class="small" style="color:var(--muted)">${item.parentesco}</div></div><div class="tag">Ver</div>`;
    r.addEventListener('click',()=>showDetail(item));
    r.addEventListener('keydown',(e)=>{ if(e.key==='Enter' || e.key===' ') showDetail(item); });
    reasonsEl.appendChild(r);
  });
  // show intro small
  detail.classList.add('hidden');
}

function showDetail(item){
  document.getElementById('d-motivo').textContent = item.title;
  document.getElementById('d-parentesco').textContent = item.parentesco;
  document.getElementById('d-tiempo').textContent = item.tiempo;
  document.getElementById('d-caracter').textContent = item.caracter;
  document.getElementById('d-xust').textContent = item.xust;
  const norms = document.getElementById('d-norms');
  norms.innerHTML = '';
  item.normativa.forEach(n=>{
    const nEl = document.createElement('div');
    nEl.className='norm';
    nEl.textContent = n;
    norms.appendChild(nEl);
  });
  detail.classList.remove('hidden');
  detail.setAttribute('aria-hidden','false');
  // scroll into view on small screens
  detail.scrollIntoView({behavior:'smooth',block:'center'});
}

/* attach events to parent buttons */
document.querySelectorAll('.btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    clearActive();
    btn.classList.add('active');
    const key = btn.dataset.parent;
    showReasons(key);
  });
});

/* Inicial: seleccionar PROPIA */
document.querySelector('.btn[data-parent="PROPIA"]').click();

/* Nota: este formulario é informativo. Para xustificacións e procedementos administrativos, siga as instrucións de RRHH e achegue a documentación solicitada. */
</script>
</body>
</html>
